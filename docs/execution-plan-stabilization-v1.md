# ExecutionPlan: Job Logs Stabilization v1

**PRDDelta:** Job Logs Stabilization v1  
**Generated by:** PgM Agent  
**Date:** 2026-02-17  
**Task granularity:** ≤ 1 hour each

## Task Breakdown

| Task | ID | Depends On | Est. | Risk | Approval | Status | Description |
|------|----|-----------|------|------|----------|--------|-------------|
| Create `ErrorBoundary` component | T1 | — | 20min | low | no | TODO | Generic `components/ErrorBoundary.tsx` with fallback UI + "Try Again" button |
| Wrap `/jobs` route in ErrorBoundary | T2 | T1 | 10min | low | no | TODO | Wrap `<JobLogs />` in `App.tsx` with the new boundary |
| Wrap photo upload section in nested boundary | T3 | T1 | 15min | low | no | TODO | Inner `<ErrorBoundary>` around photo section in `JobLogs.tsx` |
| Add file validation before upload | T4 | — | 20min | low | no | TODO | Check `file.size <= 10MB` and `file.type.startsWith('image/')`. Toast on rejection |
| Replace `uploadBytes` with `uploadBytesResumable` | T5 | — | 30min | low | no | TODO | Swap to resumable upload, wire `on('state_changed')` to progress state |
| Add upload progress bar UI | T6 | T5 | 20min | low | no | TODO | Render progress bar (0–100%) inside upload dropzone during active upload |
| Add upload retry logic | T7 | T5 | 25min | low | no | TODO | On failure: 1 auto retry. If retry fails, show "Retry" button |
| Delete `services/jobLogService.ts` | T8 | — | 5min | low | no | TODO | Remove dead file, confirm no imports reference it |

## Dependency Graph

```
T1 ──► T2
  └──► T3

T4 (independent)

T5 ──► T6
  └──► T7

T8 (independent)
```

## Execution Order (3 parallel tracks)

**Track A:** T1 → T2 → T3 (~45min)  
**Track B:** T4 → T5 → T6 → T7 (~1h 35min, critical path)  
**Track C:** T8 (~5min)  

**Total estimated time:** ~1h 35min (parallel) / ~2h 25min (serial)

## Exec Agent Eligibility
All tasks: `risk=low` AND `requires_approval=false` ✅  
Exec Agent cleared to implement all 8 tasks without DecisionPacket.
